
### [**兼容性测试套件**](http://source.android.com/compatibility/cts/index.html)

内容

 - CTS如何工作?
 - 流程
 - 测试用例类型
 - 涉及的领域


-----
#### CTS如何工作?

-----
兼容性测试套件(CTS)是一个免费的, 商业级的测试套件, 请在该地址[下载](https://source.android.com/compatibility/cts/downloads.html). CTS代表了设备满足兼容性的机制.

CTS运行在桌面机器上并直接在连接的设备或仿真器执行相关的测试用例. CTS为一组被设计成方便测试工程师集成到设备的（例如通过连续的构建系统CI）日常工作流程中的的单元测试集, 。它的目的是尽早揭示设备驱动的不兼容性，并确保软件在整个开发过程是兼容的.

CTS是自动测试工具包括以下两个主要的软件组件：

 - CTS交互测试工具运行在桌面计算机上，并管理执行测试项。 
 - 单独的测试用例在被测设备（DUT）上执行。 测试用例使用Java代码进行编写为JUnit测试，并打包为Android .apk文件，安装到实际的设备目标上运行。 

兼容性测试套件验证器（CTS Verifier）是可供[下载](https://source.android.com/compatibility/cts/downloads.html)的CTS的补充。 CTS Verifier将对某些在不通过手动输入则无法进行测试的API进行测试, 例如音频质量，加速度计等）。

CTS验证器是用于手动测试的工具，包括以下软件组件：

 - 在DUT上执行的CTS验证程序应用程序，并收集结果。 
 - 在桌面计算机上执行的可执行文件或脚本，用于为CTS Verifier应用程序中的某些测试用例提供数据或附加控制。


----
#### 工作流程

----
该图总结了CTS工作流程。有关详细说明，请参阅本节的子页面，从[设置](https://source.android.com/compatibility/cts/setup.html)开始。

![CTS flow](https://source.android.com/compatibility/cts/images/cts-0.png)
Figure 1. 如何使用CTS


----
#### 测试用例的类型

----
CTS包括以下类型的测试用例：

 - 单元测试项以测试Android平台中的原子代码;    例如一个类java.util.HashMap。
 - 以高级别的使用用例来测试APIs的组合功能.

CTS的未来版本将包括以下类型的测试用例

 - 测试系统在压力下的耐久性的稳定性测试集.
 - 基于预定义参数来测试系统的性能的基准测试，例如每秒渲染帧数。


-----
#### 涉及的领域

-----
单元测试用例涵盖以下几个方面，以确保兼容性：

 - 签名测试

对于每个Android版本，都有XML文件描述版本中包含的所有公共API的签名。 CTS包含用于根据设备上可用的API检查这些API签名的实用程序。 签名检查的结果记录在测试结果XML文件中。

 - 平台API测试

测试平台提供的（核心库和Android应用程序框架）API同对应SDK版本的索引进行比较，以确保API的正确性，包括正确的类，属性和方法签名，正确的方法行为和否定测试，以确保不正确的参数处理行为符合预期。

 - Dalvik测试

	测试主要关注Dalvik虚拟机的执行格式.

 - 平台的数据模组

	CTS测试平台的核心数据模型，是否通过内容提供类正确的暴露给应用程序开发人员，如SDK android.provider软件包中所述：联系人，浏览器，设置等。

 - 平台申明

	CTS按照SDK文档描述的可用申明说明来测试平台的核心申明.

 - 平台权限

	按照SDK文档描述的权限说明规定来测试平台的核心权限设定.

 - 平台资源

	CTS测试核心平台资源类型是否正确处理，如SDK可用资源类型中所述。 这包括以下测试：简单的值，可绘制，九补丁(**什么鬼?**)，动画，布局，样式和主题，以及加载备用资源。
 
 -----